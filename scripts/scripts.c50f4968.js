"use strict";angular.module("banightonAdminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-toArrayFilter","ngMessages","toggle-switch","validation.match","firebase","ng-file-model","ui.bootstrap"]).constant("fire",{users:"https://usersbnoapp.firebaseio.com",clients:"https://clientsbnoapp.firebaseio.com"}).run(["$rootScope","$location",function(a,b){a.$on("$routeChangeError",function(c,d,e,f){"AUTH_REQUIRED"===f&&(a.message="Sorry, you must log in to access thar page",b.path("/"))})}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/login.html",controller:"LoginCtrl",controllerAs:"login"}).when("/clients",{templateUrl:"views/clients.html",controller:"ClientsCtrl",controllerAs:"clients",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}).when("/users",{templateUrl:"views/users.html",controller:"LoginCtrl",controllerAs:"login",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}).when("/delete",{templateUrl:"views/delete.html",controller:"DeleteCtrl",controllerAs:"delete",resolve:{currentAuth:["Authentication",function(a){return a.requireAuth()}]}}).otherwise({redirectTo:"/"})}]),function(a){var b=0,c=function(b,c){this.options=c,this.$elementFilestyle=[],this.$element=a(b)};c.prototype={clear:function(){this.$element.val(""),this.$elementFilestyle.find(":text").val(""),this.$elementFilestyle.find(".badge").remove()},destroy:function(){this.$element.removeAttr("style").removeData("filestyle"),this.$elementFilestyle.remove()},disabled:function(a){if(a===!0)this.options.disabled||(this.$element.attr("disabled","true"),this.$elementFilestyle.find("label").attr("disabled","true"),this.options.disabled=!0);else{if(a!==!1)return this.options.disabled;this.options.disabled&&(this.$element.removeAttr("disabled"),this.$elementFilestyle.find("label").removeAttr("disabled"),this.options.disabled=!1)}},buttonBefore:function(a){if(a===!0)this.options.buttonBefore||(this.options.buttonBefore=!0,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()));else{if(a!==!1)return this.options.buttonBefore;this.options.buttonBefore&&(this.options.buttonBefore=!1,this.options.input&&(this.$elementFilestyle.remove(),this.constructor(),this.pushNameFiles()))}},icon:function(a){if(a===!0)this.options.icon||(this.options.icon=!0,this.$elementFilestyle.find("label").prepend(this.htmlIcon()));else{if(a!==!1)return this.options.icon;this.options.icon&&(this.options.icon=!1,this.$elementFilestyle.find(".icon-span-filestyle").remove())}},input:function(a){if(a===!0)this.options.input||(this.options.input=!0,this.options.buttonBefore?this.$elementFilestyle.append(this.htmlInput()):this.$elementFilestyle.prepend(this.htmlInput()),this.$elementFilestyle.find(".badge").remove(),this.pushNameFiles(),this.$elementFilestyle.find(".group-span-filestyle").addClass("input-group-btn"));else{if(a!==!1)return this.options.input;if(this.options.input){this.options.input=!1,this.$elementFilestyle.find(":text").remove();var b=this.pushNameFiles();b.length>0&&this.options.badge&&this.$elementFilestyle.find("label").append(' <span class="badge">'+b.length+"</span>"),this.$elementFilestyle.find(".group-span-filestyle").removeClass("input-group-btn")}}},size:function(a){if(void 0===a)return this.options.size;var b=this.$elementFilestyle.find("label"),c=this.$elementFilestyle.find("input");b.removeClass("btn-lg btn-sm"),c.removeClass("input-lg input-sm"),"nr"!=a&&(b.addClass("btn-"+a),c.addClass("input-"+a))},placeholder:function(a){return void 0===a?this.options.placeholder:(this.options.placeholder=a,void this.$elementFilestyle.find("input").attr("placeholder",a))},buttonText:function(a){return void 0===a?this.options.buttonText:(this.options.buttonText=a,void this.$elementFilestyle.find("label .buttonText").html(this.options.buttonText))},buttonName:function(a){return void 0===a?this.options.buttonName:(this.options.buttonName=a,void this.$elementFilestyle.find("label").attr({"class":"btn "+this.options.buttonName}))},iconName:function(a){return void 0===a?this.options.iconName:void this.$elementFilestyle.find(".icon-span-filestyle").attr({"class":"icon-span-filestyle "+this.options.iconName})},htmlIcon:function(){return this.options.icon?'<span class="icon-span-filestyle '+this.options.iconName+'"></span> ':""},htmlInput:function(){return this.options.input?'<input type="text" class="form-control '+("nr"==this.options.size?"":"input-"+this.options.size)+'" placeholder="'+this.options.placeholder+'" disabled> ':""},pushNameFiles:function(){var a="",b=[];void 0===this.$element[0].files?b[0]={name:this.$element[0]&&this.$element[0].value}:b=this.$element[0].files;for(var c=0;c<b.length;c++)a+=b[c].name.split("\\").pop()+", ";return""!==a?this.$elementFilestyle.find(":text").val(a.replace(/\, $/g,"")):this.$elementFilestyle.find(":text").val(""),b},constructor:function(){var c=this,d="",e=c.$element.attr("id"),f="";""!==e&&e||(e="filestyle-"+b,c.$element.attr({id:e}),b++),f='<span class="group-span-filestyle '+(c.options.input?"input-group-btn":"")+'"><label for="'+e+'" class="btn '+c.options.buttonName+" "+("nr"==c.options.size?"":"btn-"+c.options.size)+'" '+(c.options.disabled?'disabled="true"':"")+">"+c.htmlIcon()+'<span class="buttonText">'+c.options.buttonText+"</span></label></span>",d=c.options.buttonBefore?f+c.htmlInput():c.htmlInput()+f,c.$elementFilestyle=a('<div class="bootstrap-filestyle input-group">'+d+"</div>"),c.$elementFilestyle.find(".group-span-filestyle").attr("tabindex","0").keypress(function(a){return 13===a.keyCode||32===a.charCode?(c.$elementFilestyle.find("label").click(),!1):void 0}),c.$element.css({position:"absolute",clip:"rect(0px 0px 0px 0px)"}).attr("tabindex","-1").after(c.$elementFilestyle),c.options.disabled&&c.$element.attr("disabled","true"),c.$element.change(function(){var a=c.pushNameFiles();0==c.options.input&&c.options.badge?0==c.$elementFilestyle.find(".badge").length?c.$elementFilestyle.find("label").append(' <span class="badge">'+a.length+"</span>"):0==a.length?c.$elementFilestyle.find(".badge").remove():c.$elementFilestyle.find(".badge").html(a.length):c.$elementFilestyle.find(".badge").remove()}),window.navigator.userAgent.search(/firefox/i)>-1&&c.$elementFilestyle.find("label").click(function(){return c.$element.click(),!1})}};var d=a.fn.filestyle;a.fn.filestyle=function(b,d){var e="",f=this.each(function(){if("file"===a(this).attr("type")){var f=a(this),g=f.data("filestyle"),h=a.extend({},a.fn.filestyle.defaults,b,"object"==typeof b&&b);g||(f.data("filestyle",g=new c(this,h)),g.constructor()),"string"==typeof b&&(e=g[b](d))}});return void 0!==typeof e?e:f},a.fn.filestyle.defaults={buttonText:"Choose file",iconName:"glyphicon glyphicon-folder-open",buttonName:"btn-default",size:"nr",input:!0,badge:!0,icon:!0,buttonBefore:!1,disabled:!1,placeholder:""},a.fn.filestyle.noConflict=function(){return a.fn.filestyle=d,this},a(function(){a(".filestyle").each(function(){var b=a(this),c={input:"false"===b.attr("data-input")?!1:!0,icon:"false"===b.attr("data-icon")?!1:!0,buttonBefore:"true"===b.attr("data-buttonBefore")?!0:!1,disabled:"true"===b.attr("data-disabled")?!0:!1,size:b.attr("data-size"),buttonText:b.attr("data-buttonText"),buttonName:b.attr("data-buttonName"),iconName:b.attr("data-iconName"),badge:"false"===b.attr("data-badge")?!1:!0,placeholder:b.attr("data-placeholder")};b.filestyle(c)})})}(window.jQuery),angular.module("banightonAdminApp").factory("AuthenticationClients",["$rootScope","$firebaseAuth","fire","$location","$firebaseObject","$firebaseArray","$timeout",function(a,b,c,d,e,f,g){var h=new Firebase(c.clients+"/clients"),i=new Firebase(c.clients),j=b(i);return{online:function(){a.dataLoading=!0,h.on("value",function(b){var c=b.val(),d=[],e=[];angular.forEach(c,function(a){"Boliche"===a.client.client?d.push(a):e.push(a)}),a.boliches=d,a.djs=e,a.dataLoading=!1})},onlineActive:function(){h.on("value",function(b){var c=b.val(),d=[];angular.forEach(c,function(a){"0"===a.client.status&&d.push(a)}),a.notActiveClients=d})},register:function(b){j.$createUser({email:b.email,password:b.password}).then(function(d){b.date=Firebase.ServerValue.TIMESTAMP,b.regClient=d.uid,b.status="0",b.password="";new Firebase(c.clients+"/clients").child(d.uid).set({client:b});a.message="Registering "+b.firstname})["catch"](function(b){a.message=b.message})}}}]),angular.module("banightonAdminApp").factory("Authentication",["$rootScope","$firebaseAuth","fire","$location","$firebaseObject","$firebaseArray","$timeout",function(a,b,c,d,e,f,g){var h=new Firebase(c.users+"/users"),i=new Firebase(c.users),j=b(i);return j.$onAuth(function(b){if(b){var d=new Firebase(c.users+"/users/"+b.uid),f=e(d);a.currentUser=f}else a.currentUser=""}),{online:function(){a.dataLoading=!0;var b=f(h);a.users=b,a.dataLoading=!1},onlineActive:function(){h.on("value",function(b){var c=b.val(),d=[];angular.forEach(c,function(a){"0"===a.user.status&&d.push(a)}),a.notActiveUsers=d})},login:function(b){j.$authWithPassword({email:b.email,password:b.password}).then(function(a){d.path("/clients")})["catch"](function(b){a.message=b.message})},logout:function(){return d.path("/"),j.$unauth()},requireAuth:function(){return j.$requireAuth()},register:function(b){j.$createUser({email:b.email,password:b.password}).then(function(d){new Firebase(c.users+"/users").child(d.uid).set({user:{date:Firebase.ServerValue.TIMESTAMP,regUser:d.uid,firstname:b.firstname,lastname:b.lastname,nivel:b.nivel,email:b.email,status:"1"}});a.message="Registering "+b.firstname})["catch"](function(b){a.message=b.message})}}}]),angular.module("banightonAdminApp").factory("Password",function(){function a(a){var b=0;if(!a)return b;for(var c={},d=0;d<a.length;d++)c[a[d]]=(c[a[d]]||0)+1,b+=5/c[a[d]];var e={digits:/\d/.test(a),lower:/[a-z]/.test(a),upper:/[A-Z]/.test(a),nonWords:/\W/.test(a)},f=0;for(var g in e)f+=e[g]===!0?1:0;return b+=10*(f-1),b>100&&(b=100),parseInt(b)}return{getStrength:function(b){return a(b)}}}),angular.module("banightonAdminApp").filter("notActive",["$filter",function(a){return function(a,b){return a?(b=+b,a.slice(b)):void 0}}]),angular.module("banightonAdminApp").filter("paginate",["$filter",function(a){return function(a,b){return a&&a.length?a.slice(b):void 0}}]),angular.module("banightonAdminApp").filter("status",["$filter",function(a){return function(a,b){var c=[];return"all"===b?a:"active"===b?(angular.forEach(a,function(a){"1"===a.client.status&&c.push(a)}),c):"notactive"===b?(angular.forEach(a,function(a){"0"===a.client.status&&c.push(a)}),c):void 0}}]),angular.module("banightonAdminApp").service("Map",["$q",function(a){this.init=function(){var a={center:new google.maps.LatLng(-34.6037389,-58.38157039999999),zoom:14,disableDefaultUI:!0};this.map=new google.maps.Map(document.getElementById("map"),a),this.places=new google.maps.places.PlacesService(this.map)},this.search=function(b){var c=a.defer();return this.places.textSearch({query:b},function(a,b){"OK"===b?c.resolve(a[0]):c.reject(b)}),c.promise},this.addMarker=function(a){this.marker&&this.marker.setMap(null),this.marker=new google.maps.Marker({map:this.map,position:a.geometry.location,animation:google.maps.Animation.DROP,icon:"./images/pin.7f37fbb6.png"}),this.map.setCenter(a.geometry.location)}}]),angular.module("banightonAdminApp").directive("price",["$filter",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){e.$parsers.push(function(b){return b=a("comma2decimal")(b)}),e.$formatters.push(function(b){return b=a("decimal2comma")(b)})}}}]).filter("comma2decimal",[function(){return function(a){var b=a?a.toString().trim().replace(",","."):null;return parseFloat(b)}}]).filter("decimal2comma",[function(){return function(a){var b=a?a.toString().replace(".",","):null;if(b){var c=b.split(",");if(c.length>1){var d=c[1].length;1===d&&(b+="0")}}return b}}]),angular.module("banightonAdminApp").controller("ClientsCtrl",["$scope","$rootScope","$uibModal","AuthenticationClients","$interval",function(a,b,c,d,e){b.PAGE="clients",a.estatus="all",d.online();var f=1,g=e(function(){a.tiempo=f++,a.dataLoading===!1&&a.killtimer()},1e3);a.killtimer=function(){e.cancel(g)},a.register=function(){d.register(a.client)},a.modal=function(a,b,d){"newClient"===a&&c.open({templateUrl:"views/newClient.html",controller:"NewClientCtrl"}),"editClient"===a&&c.open({templateUrl:"views/editClient.html",controller:"EditClientCtrl",resolve:{editClient:function(){return b}}}),"editClientDj"===a&&c.open({templateUrl:"views/editClientDj.html",controller:"EditClientDjCtrl",resolve:{editClient:function(){return b}}}),"activeClient"===a&&c.open({templateUrl:"views/activeClient.html",controller:"ActiveClientCtrl",size:d,resolve:{activeClient:function(){return b}}}),"deleteClient"===a&&c.open({templateUrl:"views/deleteClient.html",controller:"DeleteClientCtrl",size:d,resolve:{deleteClient:function(){return b}}})},a.pageSize=10,a.currentPage=1}]),angular.module("banightonAdminApp").controller("LoginCtrl",["$scope","$rootScope","$uibModal","Authentication",function(a,b,c,d){b.PAGE="users",d.online(),a.userLogin=function(){d.login(a.user)},a.userLogout=function(){d.logout()},a.register=function(){d.register(a.user)},a.clean=function(){a.myform.$setPristine(),a.myform.$setUntouched(),a.myform.$setValidity()},a.modal=function(a,b,d){"newUser"===a&&c.open({templateUrl:"views/newUser.html",controller:"NewUserCtrl"}),"editUser"===a&&c.open({templateUrl:"views/editUser.html",controller:"EditUserCtrl",resolve:{editUser:function(){return b}}}),"activeUser"===a&&c.open({templateUrl:"views/activeUser.html",controller:"ActiveUserCtrl",size:d,resolve:{activeUser:function(){return b}}}),"deleteUser"===a&&c.open({templateUrl:"views/deleteUser.html",controller:"DeleteUserCtrl",size:d,resolve:{deleteUser:function(){return b}}})},a.pageSize=5,a.currentPage=1}]),angular.module("banightonAdminApp").controller("NewUserCtrl",["$scope","$uibModalInstance","Authentication",function(a,b,c){a.user={nivel:"1"},a.register=function(){c.register(a.user)},a.cancel=function(){b.dismiss()},a.clean=function(){a.userForm.$setPristine(),a.userForm.$setUntouched(),a.user.firstname="",a.user.lastname="",a.user.nivel="1",a.user.email="",a.user.password=""}}]),angular.module("banightonAdminApp").controller("EditUserCtrl",["$scope","$uibModalInstance","Authentication","editUser","$firebaseObject","fire",function(a,b,c,d,e,f){var g=new Firebase(f.users+"/users/"+d),h=e(g);h.$loaded().then(function(){a.usuario=h,a.user=e(g.child("user"))}),a.cancel=function(){b.dismiss()}}]),angular.module("banightonAdminApp").controller("ActiveUserCtrl",["$scope","$uibModalInstance","Authentication","activeUser","$firebaseObject","fire",function(a,b,c,d,e,f){var g=new Firebase(f.users+"/users/"+d),h=e(g);h.$loaded().then(function(){a.usuario=h,a.user=e(g.child("user"))}),a.cancel=function(){b.dismiss()}}]),angular.module("banightonAdminApp").controller("DeleteCtrl",["$scope","$rootScope","$uibModal","Authentication",function(a,b,c,d){b.PAGE="delete",d.onlineActive(),a.modal=function(a,b,d){"deleteUser"===a&&c.open({templateUrl:"views/deleteUser.html",controller:"DeleteUserCtrl",size:d,resolve:{deleteUser:function(){return b}}})},a.pageSize=5,a.currentPage=1}]),angular.module("banightonAdminApp").controller("DeleteUserCtrl",["$scope","$uibModalInstance","Authentication","deleteUser","$firebaseObject","fire",function(a,b,c,d,e,f){var g=new Firebase(f.users+"/users/"+d),h=e(g);h.$loaded().then(function(){a.usuario=h,a.user=e(g.child("user"))}),a.cancel=function(){b.dismiss()}}]),angular.module("banightonAdminApp").controller("NewClientCtrl",["$scope","$uibModalInstance","AuthenticationClients","Password","Map","$timeout",function(a,b,c,d,e,f){function g(){$(":file").filestyle({placeholder:"No file"})}a.client={client:"Boliche"},a.$watch("client.client",function(b){"Boliche"===b&&(a.mostrar=!0),"Dj"===b&&(a.mostrar=!1)}),setTimeout(g,100),a.$watch("client.password",function(b){a.passwordStrength=d.getStrength(b),a.isPasswordWeak()?a.clientForm.password.$setValidity("strength",!1):a.clientForm.password.$setValidity("strength",!0)}),a.isPasswordWeak=function(){return a.passwordStrength<40},a.isPasswordOk=function(){return a.passwordStrength>=40&&a.passwordStrength<=70},a.isPasswordStrong=function(){return a.passwordStrength>70},a.isInputValid=function(a){return a.$dirty&&a.$valid},a.isInputInvalid=function(a){return a.$dirty&&a.$invalid},a.myNumber=1,a.addMusic=function(){a.myNumber=a.myNumber+1,a.isEven(a.myNumber)},a.isEven=function(a){return a%2===0?!0:!1},a.eliminarArchivo=function(a){console.log(a),"logo"===a&&$("#logo").filestyle("clear"),"image"===a&&$("#image").filestyle("clear")},a.register=function(){c.register(a.client)},a.cancel=function(){b.dismiss()},a.clean=function(){a.client.email="",a.client.password="",a.clientConfirmPassword="",a.client.bolicheName="",a.client.lastname="",a.client.firstname="",a.searchPace="",a.client.address="",a.client.latitude="",a.client.longitude="",a.client.homePhone="",a.client.cellPhone="",a.client.music="",a.client.aniversary="",a.client.birthday="",a.client.website="",a.client.logo="",a.client.logoText="",a.client.image="",a.client.imageText="",a.eliminarArchivo("logo"),a.eliminarArchivo("image"),a.musics=[],a.clientForm.$setPristine(),a.clientForm.$setUntouched()},a.search=function(){a.apiError=!1,e.search(a.searchPlace).then(function(b){e.addMarker(b),a.client.address=b.name,a.client.latitude=b.geometry.location.lat(),a.client.longitude=b.geometry.location.lng()},function(b){a.apiError=!0,a.apiStatus=b})},f(function(){e.init()},1e3),a.open=function(b){a.status.opened=!0},a.status={opened:!1}}]),angular.module("banightonAdminApp").controller("EditClientCtrl",["$scope","$uibModalInstance","Authentication","editClient","$firebaseObject","fire","Map","$timeout",function(a,b,c,d,e,f,g,h){function i(){$(":file").filestyle({placeholder:"No file"})}var j=new Firebase(f.clients+"/clients/"+d),k=e(j);k.$loaded().then(function(){a.cliente=k,a.client=e(j.child("client"))}),setTimeout(i,100),a.myNumber=1,a.addMusic=function(){a.myNumber=a.myNumber+1,a.isEven(a.myNumber)},a.isEven=function(a){return a%2===0?!0:!1},a.cancel=function(){b.dismiss()},a.search=function(){a.apiError=!1,g.search(a.searchPlace).then(function(b){g.addMarker(b),a.client.address=b.name,a.client.latitude=b.geometry.location.lat(),a.client.longitude=b.geometry.location.lng()},function(b){a.apiError=!0,a.apiStatus=b})},h(function(){g.init()},1e3)}]),angular.module("banightonAdminApp").controller("EditClientCtrlDj",["$scope","$uibModalInstance","Authentication","editClient","$firebaseObject","fire","Map","$timeout",function(a,b,c,d,e,f,g,h){function i(){$(":file").filestyle({placeholder:"No file"})}var j=new Firebase(f.clients+"/clients/"+d),k=e(j);k.$loaded().then(function(){a.cliente=k,a.client=e(j.child("client"))}),setTimeout(i,100),a.myNumber=1,a.addMusic=function(){a.myNumber=a.myNumber+1,a.isEven(a.myNumber)},a.isEven=function(a){return a%2===0?!0:!1},a.cancel=function(){b.dismiss()}}]),angular.module("banightonAdminApp").controller("ActiveClientCtrl",["$scope","$uibModalInstance","Authentication","activeClient","$firebaseObject","fire",function(a,b,c,d,e,f){var g=new Firebase(f.clients+"/clients/"+d),h=e(g);h.$loaded().then(function(){a.cliente=h,a.client=e(g.child("client"))}),a.cancel=function(){b.dismiss()}}]),angular.module("banightonAdminApp").run(["$templateCache",function(a){a.put("views/activeClient.html",'<div class="modal-header"> <h2>Active</h2> <p>Active or unactive client</p> <h3>{{client.bolicheName}}</h3> </div> <div class="modal-body"> <div class="form-group"> <select class="form-control" ng-model="client.status" ng-change="client.$save()"> <option value="0">not active</option> <option value="1">active</option> </select> </div> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/activeUser.html",'<div class="modal-header"> <h2>Active</h2> <p>Active or unactive user</p> </div> <div class="modal-body"> <div class="form-group"> <select class="form-control" ng-model="user.status" ng-change="user.$save()"> <option value="0">not active</option> <option value="1">active</option> </select> </div> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/clients.html",'<div class="containerViews"> <div ng-show="dataLoading" class="alert alert-info"> <i class="fa fa-circle-o-notch fa-spin"></i> Loading... </div> <uib-tabset boliches="true"> <uib-tab heading="Boliches"> <nav class="navbar"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <div class="navbar-brand">Boliches</div> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search" ng-model="searchText"> </div> <div class="form-group">&nbsp;&nbsp;<strong>Status</strong>&nbsp;</div> <div class="form-group"> <select class="form-control" ng-model="estatus"> <option value="all">All</option> <option value="active">Active</option> <option value="notactive">Not active</option> </select> </div> <button ng-click="modal(\'newClient\')" class="btn btn-success fa fa-user-plus" style="padding:9px"></button> </form> </div><!-- /.navbar-collapse --> </div><!-- /.container-fluid --> </nav> <table class="table table-striped table-curved"> <thead> <tr> <th>#</th> <th>Boliche</th> <th>Email</th> <th>Address</th> <th>Status</th> <th>Edit</th> <th>Active</th> </tr> </thead> <tbody> <tr ng-repeat="boliche in boliches | filter:searchText | orderBy:\'client.bolicheName\' | status:estatus  | paginate:(currentPage-1)* pageSize | limitTo:pageSize"> <th>{{ $index +1 }}</th> <td>{{ boliche.client.bolicheName}}</td> <td>{{ boliche.client.email }}</td> <th>{{ boliche.client.address }}</th> <td> <span ng-show="boliche.client.status === \'1\'" class="label label-success">active</span> <span ng-show="boliche.client.status === \'0\'" class="label label-default">not active</span> </td> <th> <a ng-click="modal(\'editClient\',\'{{ boliche.client.regClient }}\')" class="btn btn-sm text-primary fa fa-pencil-square-o fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> <th> <a ng-click="modal(\'activeClient\',\'{{ boliche.client.regClient }}\',\'sm\')" class="btn text-warning fa fa-ban fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> </tr> </tbody> </table> <uib-pagination total-items="boliches.length" ng-model="currentPage" max-size="pageSize" class="pagination-sm" boundary-links="true" items-per-page="pageSize"></uib-pagination> </uib-tab> <uib-tab heading="Djs"> <nav class="navbar"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <div class="navbar-brand">Djs</div> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search" ng-model="searchText"> </div> <div class="form-group">&nbsp;&nbsp;<strong>Status</strong>&nbsp;</div> <div class="form-group"> <select class="form-control" ng-model="estatus"> <option value="all">All</option> <option value="active">Active</option> <option value="notactive">Not active</option> </select> </div> <button ng-click="modal(\'newClient\')" class="btn btn-success glyphicon fa fa-user-plus" style="padding:9px"></button> </form> </div><!-- /.navbar-collapse --> </div><!-- /.container-fluid --> </nav> <table class="table table-striped table-curved"> <thead> <tr> <th>#</th> <th>First Name</th> <th>Last Name</th> <th>Email</th> <th>Client</th> <th>Status</th> <th>Edit</th> <th>Active</th> </tr> </thead> <tbody> <tr ng-repeat="dj in djs | filter:searchText | orderBy:\'client.bolicheName\'  | status:estatus  | paginate:(currentPage-1)* pageSize | limitTo:pageSize" ng-cloak> <th>{{ $index + 1}}</th> <td>{{ dj.client.firstname }}</td> <td>{{ dj.client.lastname }}</td> <td>{{ dj.client.email }}</td> <th>{{ dj.client.client }}</th> <td> <span ng-show="dj.client.status === \'1\'" class="label label-success">active</span> <span ng-show="dj.client.status === \'0\'" class="label label-default">not active</span> </td> <th> <a ng-click="modal(\'editClientDj\',\'{{ dj.client.regClient }}\')" class="btn btn-sm text-primary fa fa-pencil-square-o fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> <th> <a ng-click="modal(\'activeClient\',\'{{ dj.client.regClient }}\',\'sm\')" class="btn text-warning fa fa-ban fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> </tr> </tbody> </table> <uib-pagination total-items="djs.length" ng-model="currentPage" max-size="pageSize" class="pagination-sm" boundary-links="true" items-per-page="pageSize"></uib-pagination> </uib-tab> </uib-tabset> </div> <!-- <div>{{tiempo}}</div>\r\n<div>{{boliches}}</div> -->'),a.put("views/delete.html",'<div class="containerViews"> <nav class="navbar navbar-default"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand">Delete users</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search" ng-model="searchText"> </div> </form> </div> </div> </nav> <table class="table table-striped table-curved"> <thead> <tr> <th>#</th> <th>First Name</th> <th>Last Name</th> <th>Email</th> <th>Nivel</th> <th>Status</th> <th>Delete</th> </tr> </thead> <tbody> <!-- <tr ng-repeat="user in notActiveUsers = (users | notActive:(currentPage-1)* pageSize  )| filter:searchText | orderBy:\'user.firstname\' | limitTo:5"> --> <tr ng-repeat="user in notActiveUsers | notActive:(currentPage-1)* pageSize | filter:searchText | orderBy:\'user.firstname\' | limitTo:5"> <th>{{ $index + 1 }}</th> <td>{{ user.user.firstname }}</td> <td>{{ user.user.lastname }}</td> <td>{{ user.user.email }}</td> <th>{{ user.user.nivel }}</th> <td> <span ng-show="user.user.status === \'1\'" class="label label-success">active</span> <span ng-show="user.user.status === \'0\'" class="label label-default">not active</span> </td> <th> <a ng-click="modal(\'deleteUser\',\'{{ user.user.regUser }}\',\'sm\')" class="btn text-danger fa fa-trash-o fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> </tr> </tbody> </table> <uib-pagination total-items="notActiveUsers.length" ng-model="currentPage" max-size="pageSize" class="pagination-sm" boundary-links="true" items-per-page="pageSize"></uib-pagination> </div>'),a.put("views/deleteUser.html",'<div class="modal-header"> <h2>Delete</h2> <p>You sure want delete user?</p> </div> <div class="modal-body"> <form name="myform" novalidate> <div ng-show="user !== \'\'" class="form-group"> {{user.firstname}} </div> <div ng-show="user === \'\'" class="form-group"> The user will by delete! </div> </form> <button ng-show="user !== \'\'" class="btn btn-danger btn-block" ng-click="user.$remove(\'{{user}}\')">Delete </button> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/editClient.html",'<div class="modal-header"> <h2>Edit</h2> <p>Edit the information client</p> <p class="message" ng-show="message">{{ message }}</p> </div> <div class="modal-body"> <form name="myform" novalidate> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.email.$dirty && myform.email.$invalid, \'has-success\':myform.email.$valid && myform.email.$dirty}"> <input type="email" class="form-control" id="email" name="email" placeholder="Email" data-ng-model="client.email" required disabled> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.email.$dirty && myform.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.email.$valid && myform.email.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.firstname.$dirty && myform.firstname.$invalid, \'has-success\':myform.firstname.$valid && myform.firstname.$dirty}"> <input type="text" name="firstname" placeholder="First Name" ng-model="client.firstname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.firstname.$dirty && myform.firstname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.firstname.$valid && myform.firstname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.lastname.$dirty && myform.lastname.$invalid, \'has-success\':myform.lastname.$valid && myform.lastname.$dirty}"> <input type="text" name="lastname" placeholder="Last Name" ng-model="client.lastname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.lastname.$dirty && myform.lastname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.lastname.$valid && myform.lastname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.bolicheName.$dirty && myform.bolicheName.$invalid, \'has-success\':myform.bolicheName.$valid && myform.bolicheName.$dirty}"> <input type="text" class="form-control" id="bolicheName" name="bolicheName" placeholder="bolicheName" data-ng-model="client.bolicheName" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.bolicheName.$dirty && myform.bolicheName.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.bolicheName.$valid && myform.bolicheName.$dirty"></span> </div> <div class="form-group"> <label for="place">Search Place</label> <p class="input-group"> <input type="text" placeholder="Search Address" class="form-control" ng-model="searchPlace"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="search()" ng-disabled="searchForm.$invalid"> <i class="glyphicon glyphicon-search"></i></button> </span> </p> </div> <div id="map"></div> <div class="form-group"> <label for="address">Address</label> <input type="text" class="form-control" id="address" name="address" placeholder="Address" data-ng-model="client.address" disabled> </div> <div class="form-group"> <label for="latitude">Latitude</label> <input type="text" class="form-control" id="latitude" name="latitude" placeholder="Latitude" data-ng-model="client.latitude" disabled> </div> <div class="form-group"> <label for="longitude">Longitude</label> <input type="text" class="form-control" id="longitude" name="longitude" placeholder="Longitude" data-ng-model="client.longitude" disabled> </div> <div class="form-group has-feedback"> <label for="homePhone">Home Phone</label> <input type="text" class="form-control" id="homePhone" name="homePhone" placeholder="Home Phone" data-ng-model="client.homePhone"> </div> <div class="form-group"> <label for="cellPhone">Cell Phone</label> <input type="text" class="form-control" id="cellPhone" name="cellPhone" placeholder="Cell Phone" data-ng-model="client.cellPhone"> </div> <div class="form-group"> <label for="music">Music</label> <div class="input-group"> <input type="text" class="form-control" id="music" name="music" placeholder="Music" data-ng-model="client.music.a"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-plus" type="button"></button> </span> </div> </div> <div class="form-group" ng-show="isEven(myNumber)"> <div class="input-group"> <input type="text" class="form-control" id="musicMore" name="musicMore" placeholder="More Music" data-ng-model="client.music.b" ng-change="client.$save()"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove btn-danger" type="button" ng-click="addMusic()"></button> </span> </div> </div> <div class="form-group"> <label for="aniversary">Aniversary</label> <input type="text" id="aniversary" name="aniversary" placeholder="dd/mm/yyyy" class="form-control" data-ng-model="client.aniversary"> </div> <div class="form-group"> <label for="website">Website</label> <input type="url" class="form-control" id="website" name="website" placeholder="http://example.com" data-ng-model="client.website"> </div> <div class="form-group"> <label for="logo">logo <small>100x100</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'logo\')"></button> </span> <input type="file" id="logo" name="logo" data-ng-file-model="client.logo" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <img data-ng-src="{{client.logo.data}}" class="img-circle imagen" height="100" width="100" data-ng-model="client.logo"> <div class="imagenDatos"> <h3>{{client.logo.name}}</h3> <p>{{client.logoText}}</p> </div> </div> </div> <div class="form-group"> <label for="logotext">logotext</label> <input class="form-control" id="logotext" name="logotext" placeholder="logotext" data-ng-model="client.logoText"> </div> <div class="form-group"> <label for="imagen">imagen <small>400x600</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'image\')"></button> </span> <input type="file" id="image" name="image" data-ng-file-model="client.image" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="row"> <div class="col-md-8"> <div class="thumbnail"> <img data-ng-src="{{client.image.data}}"> <div class="caption"> <h3>{{client.image.name}}</h3> <p>{{client.imageText}}</p> </div> </div> </div> </div> <div class="form-group"> <label for="imagenText">imagenText</label> <textarea type="text" class="form-control" id="imagenText" name="imagenText" placeholder="imagenText" rows="3" data-ng-model="client.imageText"></textarea> </div> <div class="form-group"> <select class="form-control" ng-model="client.status" ng-change="client.$save()"> <option value="0">not active</option> <option value="1">active</option> </select> </div> </form> <button class="btn btn-primary btn-block" ng-click="client.$save()">Save</button> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),
a.put("views/editClientDj.html",'<div class="modal-header"> <h2>Edit</h2> <p>Edit the information client Dj</p> <p class="message" ng-show="message">{{ message }}</p> </div> <div class="modal-body"> <form name="myform" novalidate> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.email.$dirty && myform.email.$invalid, \'has-success\':myform.email.$valid && myform.email.$dirty}"> <input type="email" class="form-control" id="email" name="email" placeholder="Email" data-ng-model="client.email" required disabled> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.email.$dirty && myform.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.email.$valid && myform.email.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.firstname.$dirty && myform.firstname.$invalid, \'has-success\':myform.firstname.$valid && myform.firstname.$dirty}"> <input type="text" name="firstname" placeholder="First Name" ng-model="client.firstname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.firstname.$dirty && myform.firstname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.firstname.$valid && myform.firstname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.lastname.$dirty && myform.lastname.$invalid, \'has-success\':myform.lastname.$valid && myform.lastname.$dirty}"> <input type="text" name="lastname" placeholder="Last Name" ng-model="client.lastname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.lastname.$dirty && myform.lastname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.lastname.$valid && myform.lastname.$dirty"></span> </div> <div class="form-group"> <label for="cellPhone">Cell Phone</label> <input type="text" class="form-control" id="cellPhone" name="cellPhone" placeholder="Cell Phone" data-ng-model="client.cellPhone"> </div> <div class="form-group"> <label for="music">Music</label> <div class="input-group"> <input type="text" class="form-control" id="music" name="music" placeholder="Music" data-ng-model="client.music.a"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-plus" type="button"></button> </span> </div> </div> <div class="form-group" ng-show="isEven(myNumber)"> <div class="input-group"> <input type="text" class="form-control" id="musicMore" name="musicMore" placeholder="More Music" data-ng-model="client.music.b" ng-change="client.$save()"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove btn-danger" type="button" ng-click="addMusic()"></button> </span> </div> </div> <div class="form-group"> <label for="birthday">Birthday</label> <input type="text" id="birthday" name="birthday" placeholder="dd/mm/yyyy" class="form-control" data-ng-model="client.birthday"> </div> <div class="form-group"> <label for="website">Website</label> <input type="url" class="form-control" id="website" name="website" placeholder="http://example.com" data-ng-model="client.website"> </div> <div class="form-group"> <label for="logo">logo <small>100x100</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'logo\')"></button> </span> <input type="file" id="logo" name="logo" data-ng-file-model="client.logo" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <img data-ng-src="{{client.logo.data}}" class="img-circle imagen" height="100" width="100" data-ng-model="client.logo"> <div class="imagenDatos"> <h3>{{client.logo.name}}</h3> <p>{{client.logoText}}</p> </div> </div> </div> <div class="form-group"> <label for="logotext">logotext</label> <input class="form-control" id="logotext" name="logotext" placeholder="logotext" data-ng-model="client.logoText"> </div> <div class="form-group"> <label for="imagen">imagen <small>400x600</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'image\')"></button> </span> <input type="file" id="image" name="image" data-ng-file-model="client.image" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="row"> <div class="col-md-8"> <div class="thumbnail"> <img data-ng-src="{{client.image.data}}"> <div class="caption"> <h3>{{client.image.name}}</h3> <p>{{client.imageText}}</p> </div> </div> </div> </div> <div class="form-group"> <label for="imagenText">imagenText</label> <textarea type="text" class="form-control" id="imagenText" name="imagenText" placeholder="imagenText" rows="3" data-ng-model="client.imageText"></textarea> </div> <div class="form-group"> <select class="form-control" ng-model="client.status" ng-change="client.$save()"> <option value="0">not active</option> <option value="1">active</option> </select> </div> </form> <button class="btn btn-primary btn-block" ng-click="client.$save()">Save</button> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/editUser.html",'<div class="modal-header"> <h2>Edit</h2> <p>Edit the information user</p> <p class="message" ng-show="message">{{ message }}</p> </div> <div class="modal-body"> <form name="myform" ng-submit="update(user)" novalidate> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.firstname.$dirty && myform.firstname.$invalid, \'has-success\':myform.firstname.$valid && myform.firstname.$dirty}"> <input type="text" name="firstname" placeholder="First Name" ng-model="user.firstname" required class="form-control" ng-change="user.$save()"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.firstname.$dirty && myform.firstname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.firstname.$valid && myform.firstname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.lastname.$dirty && myform.lastname.$invalid, \'has-success\':myform.lastname.$valid && myform.lastname.$dirty}"> <input type="text" name="lastname" placeholder="Last Name" ng-model="user.lastname" required class="form-control" ng-change="user.$save()"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.lastname.$dirty && myform.lastname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.lastname.$valid && myform.lastname.$dirty"></span> </div> <div class="form-group"> <select class="form-control" ng-model="user.nivel" ng-change="user.$save()"> <option>1</option> <option>2</option> <option>3</option> </select> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myform.email.$dirty && myform.email.$invalid, \'has-success\':myform.email.$valid && myform.email.$dirty}"> <input type="email" class="form-control" id="email" name="email" placeholder="Email" data-ng-model="user.email" required disabled ng-change="user.$save()"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myform.email.$dirty && myform.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myform.email.$valid && myform.email.$dirty"></span> </div> <div class="form-group"> <select class="form-control" ng-model="user.status" ng-change="user.$save()"> <option value="0">not active</option> <option value="1">active</option> </select> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/login.html",'<section class="container"> <div class="jumbotron"> <form name="myformlogin" ng-submit="userLogin()" novalidate> <div class="textintro"> <h1>Login!</h1> <p>Log-in to access the administrator!</p> <p class="message" ng-show="message"> {{ message }}</p> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':myformlogin.email.$dirty && myformlogin.email.$invalid, \'has-success\':myformlogin.email.$valid && myformlogin.email.$dirty}"> <input type="email" class="form-control" id="email" name="email" placeholder="Email" ng-model="user.email" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="myformlogin.email.$dirty && myformlogin.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="myformlogin.email.$valid && myformlogin.email.$dirty"></span> </div> <div class="form-group"> <input type="password" name="password" placeholder="Password" class="form-control" ng-model="user.password" required> <p class="error validationerror" ng-show="myformlogin.password.$invalid && myformlogin.email.$touched"> Password is required</p> </div> <div class="form-group"> <button type="submit" class="btn btn-save btn-primary btn-block" ng-disabled="myformlogin.$invalid">Login </button> </div> </form> </div> </section>'),a.put("views/nav.html",'<div class="navbar navbar-default" role="navigation" ng-show="currentUser"> <div class="container-fluid"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> </button> <strong class="navbar-brand">banightonAdmin</strong> </div> <div class="collapse navbar-collapse" id="js-navbar-collapse"> <ul class="nav navbar-nav"> <li ng-class="{ active: PAGE === \'clients\'}"><a ng-href="#/clients">Clients</a></li> <li ng-class="{ active: PAGE === \'users\'}"><a ng-href="#/users">Users</a></li> <li ng-class="{ active: PAGE === \'delete\'}"><a ng-href="#/delete">Delete</a></li> </ul> <div ng-controller="LoginCtrl" class="nav pull-right"> <span class="navbar-brand">{{currentUser.user.firstname}}</span> <button type="button" class="navbar-brand btn btn-link glyphicon glyphicon-log-out" ng-click="userLogout()"></button> </div> </div> </div> </div>'),a.put("views/newClient.html",'<div class="modal-header"> <h2>New Client</h2> <p>To access site features</p> <p class="message" ng-show="message">{{ message }}</p> </div> <div class="modal-body"> <form name="clientForm" ng-submit="register()" novalidate> <div class="form-group"> <label for="client">Type of client</label> <select class="form-control" name="client" ng-model="client.client"> <option value="Boliche">Boliche</option> <option value="Dj">Dj</option> </select> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':clientForm.email.$dirty && clientForm.email.$invalid, \'has-success\':clientForm.email.$valid && clientForm.email.$dirty}"> <label for="email">Email</label> <input type="email" class="form-control" id="email" name="email" placeholder="Email" data-ng-model="client.email" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.email.$dirty && clientForm.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="clientForm.email.$valid && clientForm.email.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\': isInputInvalid(clientForm.password), \'has-success\': isInputValid(clientForm.password)}"> <label for="password">Password</label> <input type="password" class="form-control" id="password" name="password" placeholder="Password" ng-model="client.password" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.password.$dirty && clientForm.password.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="clientForm.password.$valid && clientForm.password.$dirty"></span> <div class="progress" style="margin-top:5px"> <div class="progress-bar" ng-class="{\'progress-bar-success\': isPasswordStrong(), \'progress-bar-warning\': isPasswordOk(), \'progress-bar-danger\': isPasswordWeak()}" aria-valuenow="{{passwordStrength}}" aria-valuemin="0" aria-valuemax="100" style="width:{{passwordStrength}}%"> </div> </div> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':clientForm.confirmPassword.$dirty && clientForm.confirmPassword.$error.match, \'has-success\':!clientForm.confirmPassword.$error.match && clientForm.confirmPassword.$dirty}"> <label for="confirmPassword">Confirm Password</label> <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Confirm password" ng-model="clientConfirmPassword" match="client.password" not-match="true"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.confirmPassword.$dirty && clientForm.confirmPassword.$error.match"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="!clientForm.confirmPassword.$error.match && clientForm.confirmPassword.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':clientForm.firstname.$dirty && clientForm.firstname.$invalid, \'has-success\':clientForm.firstname.$valid && clientForm.firstname.$dirty}"> <label for="firstName">First Name</label> <input type="text" name="firstname" placeholder="First Name" ng-model="client.firstname" class="form-control" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.firstname.$dirty && clientForm.firstname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="clientForm.firstname.$valid && clientForm.firstname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':clientForm.lastname.$dirty && clientForm.lastname.$invalid, \'has-success\':clientForm.lastname.$valid && clientForm.lastname.$dirty}"> <label for="lastName">Last Name</label> <input type="text" name="lastname" placeholder="Last Name" ng-model="client.lastname" class="form-control" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.lastname.$dirty && clientForm.lastname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="clientForm.lastname.$valid && clientForm.lastname.$dirty"></span> </div> <div class="divisor"><small>Todos los campos superiores son obligatorios.</small></div> <div class="form-group has-feedback" ng-class="{\'has-error\':clientForm.firstname.$dirty && clientForm.firstname.$invalid, \'has-success\':clientForm.firstname.$valid && clientForm.firstname.$dirty}" ng-show="mostrar"> <label for="bolicheName">Boliche Name</label> <input type="text" name="bolicheName" placeholder="Boliche Name" ng-model="client.bolicheName" class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="clientForm.bolicheName.$dirty && clientForm.bolicheName.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="clientForm.bolicheName.$valid && clientForm.bolicheName.$dirty"></span> </div> <div class="form-group" ng-show="mostrar"> <label for="place">Search Place</label> <p class="input-group"> <input type="text" placeholder="Search Address" class="form-control" ng-model="searchPlace"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="search()" ng-disabled="searchForm.$invalid"> <i class="glyphicon glyphicon-search"></i></button> </span> </p> </div> <div id="map" ng-show="mostrar"></div> <div class="form-group" ng-show="mostrar"> <label for="address">Address</label> <input type="text" class="form-control" id="address" name="address" placeholder="Address" ng-model="client.address" disabled> </div> <div class="form-group" ng-show="mostrar"> <label for="latitude">Latitude</label> <input type="text" class="form-control" id="latitude" name="latitude" placeholder="Latitude" ng-model="client.latitude" disabled> </div> <div class="form-group" ng-show="mostrar"> <label for="longitude">Longitude</label> <input type="text" class="form-control" id="longitude" name="longitude" placeholder="Longitude" ng-model="client.longitude" disabled> </div> <div class="form-group has-feedback" ng-show="mostrar"> <label for="homePhone">Home Phone</label> <input type="text" class="form-control" id="homePhone" name="homePhone" placeholder="Home Phone" ng-model="client.homePhone"> </div> <div class="form-group"> <label for="cellPhone">Cell Phone</label> <input type="text" class="form-control" id="cellPhone" name="cellPhone" placeholder="Cell Phone" ng-model="client.cellPhone"> </div> <div class="form-group"> <label for="music">Music</label> <div class="input-group"> <input type="text" class="form-control" id="music" name="music" placeholder="Music" ng-model="client.music.a"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-plus" type="button" ng-click="addMusic()"></button> </span> </div> </div> <div class="form-group" ng-show="isEven(myNumber)"> <div class="input-group"> <input type="text" class="form-control" id="musicMore" name="musicMore" placeholder="More Music" ng-model="client.music.b"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove btn-danger" type="button" ng-click="addMusic()"></button> </span> </div> </div> <div class="form-group" ng-show="mostrar"> <label for="aniversary">Aniversary</label> <input type="text" id="aniversary" name="aniversary" placeholder="dd/mm/yyyy" class="form-control" data-ng-model="client.aniversary"> </div> <div class="form-group" ng-show="!mostrar"> <label for="birthday">Birthday</label> <input type="text" id="birthday" name="birthday" placeholder="dd/mm/yyyy" class="form-control" data-ng-model="client.birthday"> </div> <div class="form-group"> <label for="website">Website</label> <input type="url" class="form-control" id="website" name="website" placeholder="http://example.com" ng-model="client.website"> </div> <div class="form-group"> <label for="logo">logo <small>100x100</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'logo\')"></button> </span> <input type="file" id="logo" name="logo" ng-file-model="client.logo" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="panel panel-default"> <div class="panel-body"> <img data-ng-src="{{client.logo.data}}" class="img-circle imagen" height="100" width="100" data-ng-model="client.logo"> <div class="imagenDatos"> <h3>{{client.logo.name}}</h3> <p>{{client.logoText}}</p> </div> </div> </div> <div class="form-group"> <label for="logotext">logotext</label> <input class="form-control" id="logotext" name="logotext" placeholder="logotext" ng-model="client.logoText"> </div> <div class="form-group"> <label for="imagen">imagen <small>400x600</small></label> <div class="input-group"> <span class="input-group-btn" style="top:-1px"> <button class="btn btn-default glyphicon glyphicon-remove" type="button" ng-click="eliminarArchivo(\'image\')"></button> </span> <input type="file" id="image" name="image" ng-file-model="client.image" data-iconname="glyphicon glyphicon-inbox" accept="image/*"> </div> </div> <div class="row"> <div class="col-md-8"> <div class="thumbnail"> <img data-ng-src="{{client.image.data}}"> <div class="caption"> <h3>{{client.image.name}}</h3> <p>{{client.imageText}}</p> </div> </div> </div> </div> <div class="form-group"> <label for="imagenText">imagenText</label> <textarea type="text" class="form-control" id="imagenText" name="imagenText" placeholder="imagenText" rows="3" ng-model="client.imageText"></textarea> </div> <div class="form-group"> <div class="text-center"> <button data-loading-text="Saving Client..." type="submit" class="btn btn-primary btn-block" ng-click="saveClient(client)" ng-disabled="clientForm.$invalid">Save Client</button> </div> </div> <button class="btn btn-save btn-warning btn-block" ng-click="clean()">Clean Form </button> </form> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/newUser.html",'<div class="modal-header"> <h2>New User</h2> <p>To access site features</p> <p class="message" ng-show="message">{{ message }}</p> </div> <div class="modal-body"> <form name="userForm" ng-submit="register()" novalidate> <div class="form-group has-feedback" ng-class="{\'has-error\':userForm.firstname.$dirty && userForm.firstname.$invalid, \'has-success\':userForm.firstname.$valid && userForm.firstname.$dirty}"> <input type="text" name="firstname" placeholder="First Name" ng-model="user.firstname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="userForm.firstname.$dirty && userForm.firstname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="userForm.firstname.$valid && userForm.firstname.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':userForm.lastname.$dirty && userForm.lastname.$invalid, \'has-success\':userForm.lastname.$valid && userForm.lastname.$dirty}"> <input type="text" name="lastname" placeholder="Last Name" ng-model="user.lastname" required class="form-control"> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="userForm.lastname.$dirty && userForm.lastname.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="userForm.lastname.$valid && userForm.lastname.$dirty"></span> </div> <div class="form-group"> <select class="form-control" name="nivel" ng-model="user.nivel"> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> </select> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':userForm.email.$dirty && userForm.email.$invalid, \'has-success\':userForm.email.$valid && userForm.email.$dirty}"> <input type="email" class="form-control" id="email" name="email" placeholder="Email" data-ng-model="user.email" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="userForm.email.$dirty && userForm.email.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="userForm.email.$valid && userForm.email.$dirty"></span> </div> <div class="form-group has-feedback" ng-class="{\'has-error\':userForm.password.$dirty && userForm.password.$invalid, \'has-success\':userForm.password.$valid && userForm.password.$dirty}"> <input type="password" class="form-control" id="password" name="password" placeholder="Password" ng-model="user.password" required> <span class="glyphicon glyphicon-remove form-control-feedback" ng-show="userForm.password.$dirty && userForm.password.$invalid"></span> <span class="glyphicon glyphicon glyphicon-ok form-control-feedback" ng-show="userForm.password.$valid && userForm.password.$dirty"></span> </div> <button type="submit" class="btn btn-save btn-primary btn-block" ng-disabled="userForm.$invalid">New User </button> <button class="btn btn-save btn-warning btn-block" ng-click="clean()">Clean Form </button> </form> </div> <div class="modal-footer"> <button class="btn btn-primary btn-block" ng-click="cancel()">Close </button> </div>'),a.put("views/users.html",'<div class="containerViews"> <div ng-show="dataLoading" class="alert alert-info"> <i class="fa fa-circle-o-notch fa-spin"></i> Loading... </div> <nav class="navbar navbar-default"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand">Users</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" class="form-control" placeholder="Search" ng-model="searchText"> </div> <button ng-click="modal(\'newUser\')" class="btn btn-success glyphicon fa fa-user-plus" style="padding:9px"></button> </form> </div><!-- /.navbar-collapse --> </div><!-- /.container-fluid --> </nav> <table class="table table-striped table-curved"> <thead> <tr> <th>#</th> <th>First Name</th> <th>Last Name</th> <th>Email</th> <th>Status</th> <th>Edit</th> <th>Active</th> </tr> </thead> <tbody> <tr ng-repeat="user in users | filter:searchText | orderBy:\'user.firstname\' | paginate:(currentPage-1)* pageSize | limitTo:pageSize"> <th>{{ $index }}</th> <td>{{ user.user.firstname }}</td> <td>{{ user.user.lastname }}</td> <td>{{ user.user.email }}</td> <td> <span ng-show="user.user.status === \'1\'" class="label label-success">active</span> <span ng-show="user.user.status === \'0\'" class="label label-default">not active</span> </td> <th> <a ng-click="modal(\'editUser\',\'{{ user.user.regUser }}\')" class="btn btn-sm text-primary fa fa-pencil-square-o fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> <th> <a ng-click="modal(\'activeUser\',\'{{ user.user.regUser }}\',\'sm\')" class="btn text-warning fa fa-ban fa-2x" style="padding:0 0 0 5px; margin:0"></a> </th> </tr> </tbody> </table> <uib-pagination total-items="users.length" ng-model="currentPage" max-size="pageSize" class="pagination-sm" boundary-links="true" items-per-page="pageSize"></uib-pagination> </div>')}]);